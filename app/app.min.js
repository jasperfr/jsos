var XComponent=function(){function t(t){this.$element=t}return t.prototype.css=function(t){this.$element.css(t)},t.prototype.on=function(t,e){this.$element.on(t,e)},t.prototype.start=function(){return this.$element},t}(),XFrame=function(){function t(t){return t=t||{},this._title=t.title||"New XFrame",this.width=null!=t.size?t.size[0]:640,this.height=null!=t.size?t.size[1]:480,this.resizable=t.resizable||!0,this.icon=t.icon||"exe",this.menubar=t.menubar||!0,this.statusbar=t.statusbar||!1,this.taskbarButtons=t.taskbarButtons||["minimize","resize","close"],this.$window=void 0,this.components=[],this}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.$window&&this.$window.find(".titlebar h1").text(this.title)},enumerable:!1,configurable:!0}),t.prototype.hide=function(){this.$window.hide()},t.prototype.maximize=function(){this.$window.removeClass("hidden"),this.$window.toggleClass("full-screen")},t.prototype.close=function(){this.$window.remove()},t.prototype.add=function(t){this.components.push(t)},t.prototype.start=function(){var t=this,e=this;this.$window=$('<div class="xframe" style="width:'+this.width+'px;">');var n,i,s=$('<div class="titlebar">');s.append($('<img src="img/types/16/'+this.icon+'.png">')),s.append($("<h1>"+this.title+"</h1>")),-1!=this.taskbarButtons.indexOf("minimize")&&((n=$('<p class="button minimize"></p>')).on("click",function(){return e.hide()}),s.append(n)),-1!=this.taskbarButtons.indexOf("resize")&&((i=$('<p class="button maximize"></p>')).on("click",function(){return e.maximize()}),s.append(i)),-1!=this.taskbarButtons.indexOf("close")&&((i=$('<p class="button close"></p>')).on("click",function(){return e.close()}),s.append(i)),this.$window.append(s);for(var o=$('<div class="content" style=" height:'+this.height+'px; position:relative;">'),r=0,a=this.components;r<a.length;r++){var c=a[r];o.append(c.start())}this.$window.append(o),this.$window.draggable({containment:"parent",handle:".titlebar h1",stack:".xframe"}),this.resizable&&this.$window.resizable({containment:"parent",handles:"nw, ne, sw, se"}),this.$window.on("mousedown",function(){$(".window").removeClass("focused"),$(this).addClass("focused"),$(this).css("z-index",1e3),this.focus()}),this.$window.css({left:16*$(".window").length+"px",top:16*$(".window").length+"px"}),$(function(){return $(document.body).append(t.$window)})},t}(),__extends=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),XLabel=function(n){function t(t){void 0===t&&(t="New XLabel");var e=n.call(this,$('<span class="jslabel"></span>'))||this;return e._text="New XLabel",e.text=t,e}return __extends(t,n),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.$element.html(this._text)},enumerable:!1,configurable:!0}),t}(XComponent);